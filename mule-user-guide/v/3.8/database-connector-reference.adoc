= Database Connector Reference
:keywords: database connector, jdbc, anypoint studio, data base, connectors, mysql, stored procedure, sql, derby, oracle

This page summarizes the configuration parameters of the link:/mule-user-guide/v/3.8/database-connector[Database Connector].

*Note*: In Mule 3.7 and newer, selected fields support MEL expressions. For more information, see the link:/mule-user-guide/v/3.8/database-connector[Database Connector] guide.

== Select

Selects data from a database.

=== Attributes of <select...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|streaming |boolean |no |false |Indicates if result sets must be returned as an iterator or as a list of maps.
|fetchSize |integer |no |  |Indicates how many rows to fetch from the database when rows are read from a resultSet. This property is required when streaming is true; in that case a default value (10) is used.
|maxRows |integer |no |  |Sets the limit for the maximum number of rows that any ResultSet object generated by this message processor can contain for the given number. If the limit is exceeded, the excess rows are silently dropped.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <select...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|dynamic-query |0..1 |
|template-query-ref |0..1 |
|in-param |0..* |
|parameterized-query |0..1 |
|in-param |0..1 |
|abstractQueryResultSetHandler |0..1 |
|===

== Update

Updates data in a database.

=== Attributes of <update...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|bulkMode |boolean |no |false |Indicates whether or not a bulk update is requested. When true, payload is required to be a collection and a bulk update executes for each item in the collection.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <update...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|dynamic-query |0..1 |
|template-query-ref |0..1 |
|in-param |0..* |
|parameterized-query |0..1 |
|in-param |0..1 |
|===

== Delete

Deletes data from a database.

=== Attributes of <delete...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|bulkMode |boolean |no |false |Indicates whether or not a bulk update is requested. When true, payload is required to be a collection and a bulk update executes for each item in the collection.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <delete...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|dynamic-query |0..1 |
|template-query-ref |0..1 |
|in-param |0..* |
|parameterized-query |0..1 |
|in-param |0..1 |
|===

== Insert

Inserts data into a database.

=== Attributes of <insert...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|bulkMode |boolean |no |false |Indicates whether or not a bulk update is requested. When true, payload is required to be a collection and a bulk update executes for each item in the collection.
|autoGeneratedKeys |boolean |no |false |Indicates when to make auto-generated keys available for retrieval.
|autoGeneratedKeysColumnIndexes |string |no |  |Comma-separated list of column indexes that indicates which auto-generated keys to make available for retrieval.
|autoGeneratedKeysColumnNames |string |no |  |Comma separated list of column names that indicates which auto-generated keys should be made available for retrieval.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <insert...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|dynamic-query |0..1 |
|template-query-ref |0..1 |
|in-param |0..* |
|parameterized-query |0..1 |
|in-param |0..1 |
|===

== Execute DDL

Enables execution of DDL queries against a database.

=== Attributes of <execute-ddl...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <execute-ddl...>

[width="80",col="33,33,33"]
|===
|Name |Cardinality |Description
|dynamic-query |1..1 |
|===

== Bulk Execute

Updates data in a database.

=== Attributes of <bulk-execute...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|file |string |no |  |The location of a file to load. The file can point to a resource on the classpath or on a disk.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

== Stored Procedure

Executes a SQL statement in a database.

=== Attributes of <stored-procedure...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|config-ref |string |no |  |Defines the configuration parameters for the JDBC connection.
|source |string |no |  |The expression used to obtain the value used to calculate parameters. Default is empty, so parameters are calculated from the payload.
|target |string |no |#[payload] |The enricher expression used to enrich the current message with the result of the SQL processing.
|transactionalAction |transactionalActionType |no |JOIN_IF_POSSIBLE |Indicates how the message processor handles transactions.
|streaming |boolean |no |false |Indicates if result sets must be returned as an iterator or as list of maps.
|fetchSize |integer |no |  |Indicates how many rows to fetch from the database when rows are read from a resultSet. This property is required when streaming is true; in that case a default value (10) is used.
|maxRows |integer |no |  |Sets the limit for the maximum number of rows that any ResultSet object generated by this message processor can contain for the given number. If the limit is exceeded, the excess rows are silently dropped.
|autoGeneratedKeys |boolean |no |false |Indicates when to make auto-generated keys available for retrieval.
|autoGeneratedKeysColumnIndexes |string |no |  |Comma-separated list of column indexes that indicates which auto-generated keys to make available for retrieval.
|autoGeneratedKeysColumnNames |string |no |  |Comma separated list of column names that indicates which auto-generated keys should be made available for retrieval.
|queryTimeout | integer | no | none | Indicates the minimum amount of time (in seconds) before the connector will attempt to cancel a running query. No timeout is used by default.
|===

=== Child Elements of <stored-procedure...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|dynamic-query |0..1 |
|template-query-ref |0..1 |
|in-param |0..* |
|parameterized-query |0..1 |
|in-param |0..1 |
|out-param |0..1 |
|inout-param |0..1 |
|===

== Template Query

=== Attributes of <template-query...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the query so that other elements can reference it.
|===

=== Child Elements of <template-query...>

[cols=",",options="header"]
|===
|name |Cardinality |Description
|dynamic-query
|1..1
|
|parameterized-query
|1..1
|
|in-param
|0..*
|
|template-query-ref
|1..1
|
|in-param
|1..*
|
|===

== Connection properties

Specifies a list of custom key-value connectionProperties for the config. Supports MEL expressions.


=== Child Elements of <connection-properties...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|property |1..* |
|===

== Data Types

Specifies non-standard JDBC data types.


=== Child Elements of <data-types...>

[width="80",cols="33,33,33",options="header"]
|===
|Name |Cardinality |Description
|data-type
|1..*
|Requires a `name` that is a reference to a JDBC data type, and the integer specifier `id` for the data type.
|===

=== Attributes of <data-type...>

[width="80",cols=",",options="header"]
|===
|Name |Type |Required |Default |Description
|name |string |yes | |Reference to the JDBC type
|id |int |yes | |identifier for the data type as specified in the class for JDBC data types `java.sql.Types`
|===

== Pooling Profile

Provides a way to configure database connection pooling.

=== Attributes of <pooling-profile...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|maxPoolSize |integer |no |  |Maximum number of connections a pool maintains at any given time.
|minPoolSize |integer |no |  |Minimum number of connections a pool maintains at any given time.
|acquireIncrement |integer |no |  |Determines how many connections at a time to try to acquire when the pool is exhausted.
|preparedStatementCacheSize |integer |no |5 |Determines how many statements are cached per pooled connection. Defaults to 0, meaning statement caching is disabled.
|maxWaitMillis |string |no |  |The number of milliseconds a client calling getConnection() waits for a connection to be checked-in or acquired when the pool is exhausted. Zero means wait indefinitely.
|===


== Generic Config

Provides a way to define a JDBC configuration for any DB vendor.

=== Attributes of <generic-config...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the database configuration so other elements can reference it.
|dataSource-ref |string |no |  |Reference to a JDBC DataSource object. This object is typically created using Spring. When using XA transactions, an XADataSource object must be provided.
|url |string |no |  |URL used to connect to the database. Supports MEL expressions.
|useXaTransactions |boolean |no |  |Indicates whether or not the created datasource has to support XA transactions. Default is false.
|driverClassName |string |no |  |Fully-qualified name of the database driver class. Supports MEL expressions.
|connectionTimeout |int |no |  |Maximum time in seconds that this data source will wait while attempting to connect to a database. A value of zero specifies that the timeout is the default system timeout if there is one; otherwise, it specifies that there is no timeout.
|transactionIsolation |enumeration |no |  |The transaction isolation level to set on the driver when connecting the database.
|===

=== Child Elements of <generic-config...>

[width="100%",cols="34%,33%,33%",options="header",]
|===
|Name |Cardinality |Description
|pooling-profile |0..1 |Provides a way to configure database connection pooling.
|connection-properties |0..1 |Specifies a list of custom key-value connectionProperties for the config. Supports MEL expressions.
|data-types |0..1 |Specifies non-standard custom data types.
|mule:abstract-reconnection-strategy |0..1 | 
|===

== Derby Config

=== Attributes of <derby-config...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the database configuration so other elements can reference it.
|dataSource-ref |string |no |  |Reference to a JDBC DataSource object. This object is typically created using Spring. When using XA transactions, an XADataSource object must be provided.
|url |string |no |  |URL used to connect to the database. Supports MEL expressions.
|useXaTransactions |boolean |no |  |Indicates whether or not the created datasource has to support XA transactions. Default is false.
|driverClassName |string |no |  |Fully-qualified name of the database driver class. Supports MEL expressions.
|connectionTimeout |int |no |  |Maximum time in seconds that this data source will wait while attempting to connect to a database. A value of zero specifies that the timeout is the default system timeout if there is one; otherwise, it specifies that there is no timeout.
|transactionIsolation |enumeration |no |  |The transaction isolation level to set on the driver when connecting the database.
|user |string |no |  |The user that is used for authentication against the database. Supports MEL expressions.
|password |string |no |  |The password that is used for authentication against the database. Supports MEL expressions.
|===

=== Child Elements of <derby-config...>

[width="100%",cols="34%,33%,33%",options="header",]
|===
|Name |Cardinality |Description
|pooling-profile |0..1 |Provides a way to configure database connection pooling.
|connection-properties |0..1 |Specifies a list of custom key-value connectionProperties for the config. Supports MEL expressions.
|data-types |0..1 |Specifies non-standard custom data types.
|mule:abstract-reconnection-strategy |0..1 | 
|===

== Oracle Config

=== Attributes of <oracle-config...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the database configuration so other elements can reference it.
|dataSource-ref |string |no |  |Reference to a JDBC DataSource object. This object is typically created using Spring. When using XA transactions, an XADataSource object must be provided.
|url |string |no |  |URL used to connect to the database. Supports MEL expressions.
|useXaTransactions |boolean |no |  |Indicates whether or not the created datasource has to support XA transactions. Default is false.
|driverClassName |string |no |  |Fully-qualified name of the database driver class. Supports MEL expressions.
|connectionTimeout |int |no |  |Maximum time in seconds that this data source will wait while attempting to connect to a database. A value of zero specifies that the timeout is the default system timeout if there is one; otherwise, it specifies that there is no timeout.
|transactionIsolation |enumeration |no |  |The transaction isolation level to set on the driver when connecting the database.
|user |string |no |  |The user that is used for authentication against the database. Supports MEL expressions.
|password |string |no |  |The password that is used for authentication against the database. Supports MEL expressions.
|host |string |no |  |Configures just the host part of the JDBC URL (and leaves the rest of the default JDBC URL untouched). Supports MEL expressions.
|port |integer |no |  |Configures just the port part of the JDBC URL (and leaves the rest of the default JDBC URL untouched).
|instance |string |no |  |Configures just the instance part of the JDBC URL (and leaves the rest of the default JDBC URL untouched). Supports MEL expressions.
|===

=== Child Elements of <oracle-config...>

[width="100%",cols="34%,33%,33%",options="header",]
|===
|Name |Cardinality |Description
|pooling-profile |0..1 |Provides a way to configure database connection pooling.
|connection-properties |0..1 |Specifies a list of custom key-value connectionProperties for the config. Supports MEL expressions.
|data-types |0..1 |Specifies non-standard custom data types.
|mule:abstract-reconnection-strategy |0..1 | 
|===

== MySQL Config

=== Attributes of <mysql-config...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the database configuration so other elements can reference it.
|dataSource-ref |string |no |  |Reference to a JDBC DataSource object. This object is typically created using Spring. When using XA transactions, an XADataSource object must be provided.
|url |string |no |  |URL used to connect to the database. Supports MEL expressions.
|useXaTransactions |boolean |no |  |Indicates whether or not the created datasource has to support XA transactions. Default is false.
|driverClassName |string |no |  |Fully-qualified name of the database driver class. Supports MEL expressions.
|loginTimeout |int |no |  |Maximum time in seconds that this data source will wait while attempting to connect to a database. A value of zero specifies that the timeout is the default system timeout if there is one; otherwise, it specifies that there is no timeout.
|transactionIsolation |enumeration |no |  |The transaction isolation level to set on the driver when connecting the database.
|user |string |no |  |The user that is used for authentication against the database. Supports MEL expressions.
|password |string |no |  |The password that is used for authentication against the database. Supports MEL expressions.
|database |string |no |  |The name of the database. Must be configured unless a full JDBC URL is configured. Supports MEL expressions.
|host |string |no |  |Configures just the host part of the JDBC URL (and leaves the rest of the default JDBC URL untouched). Supports MEL expressions.
|port |integer |no |  |Configures just the port part of the JDBC URL (and leaves the rest of the default JDBC URL untouched).
|===

=== Child Elements of <mysql-config...>

[width="100%",cols="34%,33%,33%",options="header",]
|===
|Name |Cardinality |Description
|pooling-profile |0..1 |Provides a way to configure database connection pooling.
|connection-properties |0..1 |Specifies a list of custom key-value connectionProperties for the config. Supports MEL expressions.
|data-types |0..1 |Specifies non-standard custom data types.
|mule:abstract-reconnection-strategy |0..1 | 
|===

== SQL Server Config

To configure access to SQL Server Configuration use the link:/mule-user-guide/v/3.8/database-connector-reference#generic-config[Generic Configuration] of the link:/mule-user-guide/v/3.8/database-connector-reference#connection-properties[Database Connector].  See the link:/mule-user-guide/v/3.8/database-connector-reference#generic-config[Generic  Config] for configuring link:/mule-user-guide/v/3.8/database-connector-reference#generic-config[Transaction properties] and link:/mule-user-guide/v/3.8/database-connector-reference#pooling-profile[Connection Pooling properties].

Download the link:https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=11774[Microsoft JDBC driver] if you do not have it.

=== Attributes of <generic-config...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |name (no spaces) |yes |  |Identifies the database configuration so other elements can reference it.
|url |string |no |  |URL used to connect to the database. Supports MEL expressions.
Example:  `jdbc:sqlserver://${db.host};database=${db.database};user=${db.user};password=${db.password}`
|driverClassName |string |no |  |Fully-qualified name of the database driver class. Supports MEL expressions.
Example: com.microsoft.sqlserver.jdbc.SQLServerDriver
|===

=== Using Integrated Security

If you want to make use of the integrated security login feature when using the Database Connector with your Microsoft SQL instance, you need to perform some additional steps:

. Configure the native libraries location inside the JDBC driver (`sqljdbc4.jar`).
* Right click on your project name in Package Explorer
* Click `Build Path`
* Click `Configure Build Path`
* Select `sqljdbc4.jar`
* Select the child element `Native Library Location (None)`
* Press the `Edit...` button
* Select the folder that contains the `sqljdbc_auth.dll` native library.
* Click `Ok` to confirm the changes.

. You also need to add `integratedSecurity=true` to your connection URL. The line should look like the following string:
* `jdbc:sqlserver://${db.host};database=${db.database};integratedSecurity=true`

== In Param

=== Attributes of <in-param...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |string |yes |  |The name of the input parameter.
|value |string |yes |  |The value of the parameter.
|type |ExtendedJdbcDataTypes |no |  |Parameter type name.
|===

== Out Param

=== Attributes of <out-param...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |string |yes |  |The name of the output parameter.
|type |ExtendedJdbcDataTypes |no |  |Parameter type name.
|===

== Inout Param

=== Attributes of <inout-param...>

[width="99",cols="20,20,20,20,20",options="header"]
|===
|Name |Type |Required |Default |Description
|name |string |yes |  |The name of the output parameter.
|value |string |yes |  |The value of the parameter.
|type |ExtendedJdbcDataTypes |no |  |Parameter type name.
|===

== See Also

* Access the link:/mule-user-guide/v/3.8/database-connector[main database connector documentation] for an overview, user guide, and examples. 
